<div>

  <ol class="breadcrumb">
    <li>Environnement {{ ctrl.feature.testRun.env }}</li>
    <li class="active">
      <a ng-href="#/test-runs/{{ ctrl.feature.testRun.id }}">Tir du {{ ctrl.feature.testRun.date | date:'dd/MM/yyyy à HH:mm' }}</a>
    </li>
    <li class="active">{{ ctrl.feature.info.keyword }} {{ ctrl.feature.info.name }}</li>
  </ol>

  <h1>
    <b>{{ ctrl.feature.info.keyword }}</b>
    {{ ctrl.feature.info.name }}
  </h1>

  <p ng-if="ctrl.feature.tags">
    <tc-tags tags="ctrl.feature.tags"></tc-tags>
  </p>

  <hr>

  <p>
    <tc-line-breaks content="ctrl.feature.description"></tc-line-breaks>
  </p>

  <!-- Stats -->

  <hr>

  <h2>Statistiques</h2>


  <table class="table table-bordered">
    <thead>
    <tr>
      <th>Nombre de scénarii</th>
      <th>Succès</th>
      <th>Echecs</th>
      <th>En attente</th>
      <th>Non joués</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td><span class="badge">{{ ctrl.feature.stats.scenarioCount }}</span></td>
      <td><span class="badge">{{ ctrl.feature.stats.statsByStatus['PASSED'] }}</span></td>
      <td><span class="badge">{{ ctrl.feature.stats.statsByStatus['FAILED'] }}</span></td>
      <td><span class="badge">{{ ctrl.feature.stats.statsByStatus['PENDING'] }}</span></td>
      <td><span class="badge">{{ ctrl.feature.stats.statsByStatus['NOT_RUN'] }}</span></td>
    </tr>
    </tbody>
  </table>

  <!-- Scenarii -->

  <hr>

  <h2>Scénarii</h2>

  <table class="table table-striped table-bordered">
    <thead>
    <tr>
      <th>Scénario</th>
      <th>Tags</th>
      <th>Statut</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="scenario in ctrl.feature.scenarii">
      <td>
        <a ng-href="#/scenarii/{{ scenario.id }}">
          <tc-element-info info="scenario.info"></tc-element-info>
        </a>
      </td>
      <td>
        <tc-tags tags="scenario.tags"></tc-tags>
      </td>
      <td>
        <tc-status status="scenario.status"></tc-status>
      </td>
    </tr>
    </tbody>
  </table>

</div>

